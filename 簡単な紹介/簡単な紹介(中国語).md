# Redis 入门笔记

## Redis 简介
Redis是一种**键值型**的**NoSQL**数据库，具有以下特点：
- **键值型**：数据以Key-Value形式存储，Value支持多种格式（字符串、数值、Json等）
- **NoSQL**：与传统关系型数据库有显著差异

## 认识NoSQL
NoSQL（Not Only SQL/非SQL）是非关系型数据库的统称。

### 结构化 vs 非结构化
| 类型       | 特点                                                                 |
|------------|----------------------------------------------------------------------|
| 关系型数据库 | 严格的结构约束（字段名、数据类型、字段约束等）                       |
| NoSQL      | 无固定格式，支持键值型、文档型、图格式等多种形式                     |

### 关联 vs 非关联
| 类型       | 特点                                                                 |
|------------|----------------------------------------------------------------------|
| 关系型数据库 | 表间存在关联（如外键约束）                                           |
| NoSQL      | 无关联关系，通过业务逻辑或数据耦合维护关系                           |

**示例文档结构**：
```json
{
  "id": 1,
  "name": "张三",
  "orders": [
    {
      "id": 1,
      "item": {
        "id": 10, 
        "title": "荣耀6", 
        "price": 4999
      }
    },
    {
      "id": 2,
      "item": {
        "id": 20, 
        "title": "小米11", 
        "price": 3999
      }
    }
  ]
}
```
## 查询方式对比

```sql
-- SQL
SELECT id, age FROM tb_user WHERE id = 1
```

``` Redis
get user:1
```

``` MongoDB
db.user.find({_id: 1})
```

``` Elasticsearch
GET http://localhost:9200/users/1
```

## 事务特性对比

| 类型           | 事务支持描述                               |
|----------------|--------------------------------------------|
| 关系型数据库   | 完整支持ACID特性：<br>- 原子性(Atomicity)<br>- 一致性(Consistency)<br>- 隔离性(Isolation)<br>- 持久性(Durability) |
| NoSQL数据库    | 通常：<br>- 不支持事务<br>- 或仅支持基本一致性保证 |

## SQL vs NoSQL 全面对比表

| 特性         | 关系型数据库(SQL)                        | NoSQL数据库                          |
|--------------|------------------------------------------|---------------------------------------|
| 数据结构     | 严格结构化，预定义模式                   | 灵活的非结构化                       |
| 数据关联     | 通过外键建立表间关联                     | 无原生关联，需应用层维护             |
| 查询方式     | 标准SQL语言                              | 各产品自有查询语法                   |
| 事务特性     | 完整的ACID支持                           | BASE原则：<br>- 基本可用(Basically Available)<br>- 软状态(Soft-state)<br>- 最终一致性(Eventual consistency) |
| 存储方式     | 主要基于磁盘存储                         | 主要基于内存存储                     |
| 扩展方式     | 垂直扩展(Scale-up)                       | 水平扩展(Scale-out)                  |

## 关键差异详解

### 存储方式差异

**关系型数据库**：
- 存储介质：硬盘为主
- 特点：
  - 数据持久化存储
  - 存在磁盘I/O瓶颈
  - 读写性能相对较低
  - 适合数据安全性要求高的场景

**NoSQL数据库**：
- 存储介质：内存为主
- 特点：
  - 内存读写速度可达10^6次/秒
  - 支持数据持久化(需额外配置)
  - 性能表现优异
  - 适合高并发读写场景
